<form *ngIf="user" (ngSubmit)="saveUser()" id="user-form" class="form-horizontal" role="form">
    <div class="form-group">
        <label for="login" class="col-md-2 control-label">Login:</label>
        <div class="col-md-4">
            <input type="text" 
                class="form-control"
                id="login" name="login"
                placeholder="Login"
                required
                [(ngModel)]="user.login">
        </div>
    </div>
    <div class="form-group" *ngIf="!admin">
        <label for="password" class="col-md-2 control-label">Password:</label>
        <div class="col-md-4">
            <input type="password" class="form-group col-md-3"
                class="form-control" 
                id="password" name="password"
                placeholder="Password"
                required
                [(ngModel)]="user.password">
        </div>
        <label for="repeatedPassword" class="col-md-2 control-label">Confirm password:</label>
        <div class="col-md-4">
            <input type="password" class="form-group col-md-3" 
                class="form-control" 
                id="repeatedPassword" name="repeatedPassword"
                placeholder="Password"
                required
                [(ngModel)]="repeatedPassword">
        </div>
    </div>
    <div class="form-group" *ngIf="!admin && user.password && repeatedPassword && user.password !== repeatedPassword">
        <br><span class="alert alert-danger" role="alert">Password does not match</span>
    </div>
    <div class="form-group">
        <label for="firstName" class="col-md-2 control-label">First Name:</label>
        <div class="col-md-4">
            <input type="text" 
                class="form-control" 
                id="firstName" name="firstName"
                placeholder="First Name"
                required
                [(ngModel)]="user.firstName">
        </div>
        <label for="lastName" class="col-md-2 control-label">Last Name</label>
        <div class="col-md-4">
            <input type="text" 
                class="form-control" 
                id="lastName" name="lastName"
                placeholder="Last Name"
                [(ngModel)]="user.lastName">
        </div>
    </div>
    <div class="form-group">
        <label for="email" class="col-md-2 control-label">Email</label>
        <div class="col-md-4">
            <input type="text" 
                class="form-control" 
                id="email" name="email"
                placeholder="Email"
                [(ngModel)]="user.email">
        </div>
        <label for="phone" class="col-md-2 control-label">Phone Number</label>
        <div class="col-md-4">
            <input type="text" 
                class="form-control" 
                id="phone" name="phone"
                placeholder="Phone Number"
                [(ngModel)]="user.phone">
        </div>
    </div>
    <div class="form-group">
        <label for="address" class="col-md-2 control-label">Address</label>
        <div class="col-md-10">
            <input type="text" 
                class="form-control" 
                id="address" name="address"
                placeholder="Address"
                [(ngModel)]="user.address">
        </div>
    </div>
    <div *ngIf="authService.isAdmin" class="form-group">
        <label for="isAdmin" class="col-md-2 control-label">Is Admin</label>
        <div class="col-md-10">
            <input type="checkbox"
                class="form-check-input"
                id="isAdmin" name="isAdmin"
                [(ngModel)]="user.isAdmin">
        </div> 
    </div>

    <div class="form-group">
        <div *ngIf="!admin && user.login && user.password && user.firstName && user.lastName && user.email && user.phone && user.address && user.password === repeatedPassword">
            <button type="submit" class="btn btn-primary" form="user-form" *ngIf="!user.id">Register</button>
            <button type="submit" class="btn btn-primary" form="user-form" *ngIf="user.id">Update</button>
        </div>
        <button *ngIf="admin && user.login && user.firstName && user.lastName && user.email && user.phone && user.address"
        type="submit" class="btn btn-primary" form="user-form">Update</button>
        
        <button *ngIf="admin" class="btn btn-primary" type="button" form="user-form" (click)="goBack()">Back</button>
        <div *ngIf="!(user.login && user.password && user.firstName && user.lastName && user.email && user.phone && user.address && user.password === repeatedPassword)">
            <br><span class="alert alert-danger" role="alert">Fill in all the fields</span>
        </div>
    </div>


    <div *ngIf="errorMessage">
        <br><span class="alert alert-danger" role="alert">{{errorMessage}}</span>
    </div>
</form>