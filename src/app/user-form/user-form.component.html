<form *ngIf="user" (ngSubmit)="saveUser()" id="user-form">
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="login">Login:</label>
            <input type="text" 
                class="form-control" 
                id="login" name="login"
                placeholder="Login"
                required
                [(ngModel)]="user.login">
        </div>
    </div>
    <div class="form-row">
        <div *ngIf="!admin" class="form-group col-md-3">
            <label for="password">Password:</label>
            <input type="password" 
                class="form-control" 
                id="password" name="password"
                placeholder="Password"
                required
                [(ngModel)]="user.password">
        </div>
        <div *ngIf="!admin" class="form-group col-md-3">
            <label for="password">Confirm password:</label>
            <input type="password" 
                class="form-control" 
                id="password" name="password"
                placeholder="Password"
                required
                [(ngModel)]="repeatedPassword">
        </div>
    </div>
    <div *ngIf="!admin && user.password && repeatedPassword && user.password !== repeatedPassword">
        <br><span class="alert alert-danger" role="alert">Password does not match</span>
    </div>
    <div class="form-group">
        <label for="firstName">First Name:</label>
        <input type="text" 
            class="form-control" 
            id="firstName" name="firstName"
            placeholder="First Name"
            required
            [(ngModel)]="user.firstName">
    </div>
    <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" 
            class="form-control" 
            id="lastName" name="lastName"
            placeholder="Last Name"
            [(ngModel)]="user.lastName">
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input type="text" 
            class="form-control" 
            id="email" name="email"
            placeholder="Email"
            [(ngModel)]="user.email">
    </div>
    <div class="form-group">
        <label for="phone">Phone Number</label>
        <input type="text" 
            class="form-control" 
            id="phone" name="phone"
            placeholder="Phone Number"
            [(ngModel)]="user.phone">
    </div>
    <div class="form-group">
        <label for="address">Address</label>
        <input type="text" 
            class="form-control" 
            id="address" name="address"
            placeholder="Address"
            [(ngModel)]="user.address">
    </div>
    <div *ngIf="authService.isAdmin" class="form-check">
        <label class="form-check-label">Is Admin</label>
        <input type="checkbox"
            class="form-check-input"
            id="isAdmin" name="isAdmin"
            [(ngModel)]="user.isAdmin">   
    </div>
    <div *ngIf="!admin && user.login && user.password && user.firstName && user.lastName && user.email && user.phone && user.address && user.password === repeatedPassword">
        <button type="submit" class="btn btn-primary" form="user-form" *ngIf="!user.id">Register</button>
        <button type="submit" class="btn btn-primary" form="user-form" *ngIf="user.id">Update</button>
    </div>
    <div *ngIf="admin && user.login && user.firstName && user.lastName && user.email && user.phone && user.address">
        <button type="submit" class="btn btn-primary" form="user-form">Update</button>
    </div>
    <button *ngIf="admin" class="btn btn-primary" type="button" form="user-form" (click)="goBack()">Back</button>
</form>
<div *ngIf="!(user.login && user.password && user.firstName && user.lastName && user.email && user.phone && user.address && user.password === repeatedPassword)">
    <br><span class="alert alert-danger" role="alert">Fill in all the fields</span>
</div>
<div *ngIf="errorMessage">
    <br><span class="alert alert-danger" role="alert">{{errorMessage}}</span>
</div>